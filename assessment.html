<!DOCTYPE html>
<html lang="tr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Enerji FarkÄ±ndalÄ±k DeÄŸerlendirmesi - Enerji Akademisi</title>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">

    <style>
        /* Assessment Page Specific Styles */
        .assessment-page {
            min-height: 100vh;
            background: linear-gradient(135deg, #f0fdf4 0%, #f0f9ff 100%);
        }

        .assessment-header {
            background: white;
            padding: 1rem 2rem;
            display: flex;
            align-items: center;
            justify-content: space-between;
            border-bottom: 1px solid #e5e7eb;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
        }

        .assessment-header .brand {
            display: flex;
            align-items: center;
            gap: 10px;
            font-weight: 700;
            font-size: 1.1rem;
            color: var(--primary);
            text-decoration: none;
        }

        .progress-indicator {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .progress-bar-container {
            width: 200px;
            height: 8px;
            background: #e5e7eb;
            border-radius: 4px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: var(--primary);
            border-radius: 4px;
            transition: width 0.3s ease;
        }

        .progress-text {
            font-size: 0.9rem;
            color: var(--text-muted);
            font-weight: 500;
        }

        .assessment-main {
            max-width: 800px;
            margin: 3rem auto;
            padding: 0 1.5rem;
        }

        .question-card {
            background: white;
            border-radius: 16px;
            padding: 2.5rem;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
            border: 1px solid rgba(0, 0, 0, 0.05);
        }

        .section-badge {
            display: inline-block;
            padding: 6px 14px;
            background: #e0f2fe;
            color: #0369a1;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
            margin-bottom: 1rem;
        }

        .section-badge.behavior {
            background: #dcfce7;
            color: #15803d;
        }

        .question-number {
            font-size: 0.9rem;
            color: var(--text-muted);
            margin-bottom: 0.5rem;
        }

        .question-text {
            font-size: 1.3rem;
            font-weight: 600;
            color: var(--text);
            line-height: 1.5;
            margin-bottom: 2rem;
        }

        .options-grid {
            display: flex;
            flex-direction: column;
            gap: 0.8rem;
        }

        .option-button {
            display: flex;
            align-items: center;
            gap: 1rem;
            padding: 1rem 1.25rem;
            border: 2px solid #e5e7eb;
            border-radius: 12px;
            background: white;
            cursor: pointer;
            transition: all 0.2s ease;
            text-align: left;
            font-size: 1rem;
            color: var(--text);
        }

        .option-button:hover {
            border-color: var(--primary);
            background: #f0f9ff;
        }

        .option-button .option-letter {
            width: 32px;
            height: 32px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: #f3f4f6;
            border-radius: 8px;
            font-weight: 600;
            color: var(--text-muted);
            font-size: 0.9rem;
            flex-shrink: 0;
        }

        .option-button:hover .option-letter {
            background: var(--primary);
            color: white;
        }

        /* Likert Scale for Behavior Questions */
        .likert-scale {
            display: flex;
            justify-content: space-between;
            gap: 0.5rem;
            margin-top: 1rem;
        }

        .likert-option {
            flex: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 0.5rem;
            padding: 1rem 0.5rem;
            border: 2px solid #e5e7eb;
            border-radius: 12px;
            background: white;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .likert-option:hover {
            border-color: #10b981;
            background: #ecfdf5;
        }

        .likert-option .score {
            width: 36px;
            height: 36px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: #f3f4f6;
            border-radius: 50%;
            font-weight: 700;
            font-size: 1rem;
        }

        .likert-option:hover .score {
            background: #10b981;
            color: white;
        }

        .likert-option .label {
            font-size: 0.75rem;
            text-align: center;
            color: var(--text-muted);
            font-weight: 500;
        }

        /* Results Page */
        .results-card {
            background: white;
            border-radius: 16px;
            padding: 3rem;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
            text-align: center;
        }

        .results-title {
            font-size: 1.8rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
            color: var(--text);
        }

        .results-subtitle {
            color: var(--text-muted);
            margin-bottom: 2rem;
        }

        .score-display {
            display: flex;
            justify-content: center;
            gap: 2rem;
            margin-bottom: 2rem;
        }

        .score-item {
            padding: 1.5rem 2rem;
            background: #f9fafb;
            border-radius: 12px;
            min-width: 150px;
        }

        .score-item.knowledge {
            border-left: 4px solid var(--primary);
        }

        .score-item.behavior {
            border-left: 4px solid #10b981;
        }

        .score-item .score-label {
            font-size: 0.8rem;
            font-weight: 600;
            color: var(--text-muted);
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 0.5rem;
        }

        .score-item .score-value {
            font-size: 2rem;
            font-weight: 700;
        }

        .score-item.knowledge .score-value {
            color: var(--primary);
        }

        .score-item.behavior .score-value {
            color: #10b981;
        }

        .level-badge {
            display: inline-block;
            padding: 0.75rem 1.5rem;
            border-radius: 30px;
            font-weight: 600;
            font-size: 1rem;
            margin-bottom: 1.5rem;
        }

        .level-badge.level-1 {
            background: #fef3c7;
            color: #92400e;
        }

        .level-badge.level-2 {
            background: #e0f2fe;
            color: #0369a1;
        }

        .level-badge.level-3 {
            background: #dcfce7;
            color: #15803d;
        }

        .module-recommendation {
            background: #f9fafb;
            border-radius: 12px;
            padding: 1.5rem;
            margin-top: 1.5rem;
            text-align: left;
        }

        .module-recommendation h4 {
            font-size: 1rem;
            margin-bottom: 0.5rem;
        }

        .module-recommendation p {
            color: var(--text-muted);
            font-size: 0.95rem;
        }

        .back-btn {
            margin-top: 2rem;
            padding: 1rem 2rem;
            background: var(--primary);
            color: white;
            border: none;
            border-radius: 10px;
            font-weight: 600;
            cursor: pointer;
            font-size: 1rem;
            transition: background 0.2s;
        }

        .back-btn:hover {
            background: #4338ca;
        }

        .hidden {
            display: none !important;
        }

        @media (max-width: 600px) {
            .likert-scale {
                flex-wrap: wrap;
            }

            .likert-option {
                flex: 0 0 calc(33% - 0.5rem);
            }

            .score-display {
                flex-direction: column;
                gap: 1rem;
            }
        }
    </style>
</head>

<body>
    <div class="assessment-page">
        <!-- Header -->
        <header class="assessment-header">
            <a href="index.html" class="brand">
                <div class="windmill">
                    <div class="blade"></div>
                    <div class="blade"></div>
                    <div class="blade"></div>
                </div>
                Enerji Akademisi
            </a>
            <div class="progress-indicator">
                <div class="progress-bar-container">
                    <div id="progress-fill" class="progress-fill" style="width: 0%"></div>
                </div>
                <span id="progress-text" class="progress-text">1 / 30</span>
            </div>
        </header>

        <!-- Question Area -->
        <main class="assessment-main">
            <div id="question-card" class="question-card">
                <span id="section-badge" class="section-badge">A. BÄ°LGÄ° DÃœZEYÄ°</span>
                <p id="question-number" class="question-number">Soru 1</p>
                <h2 id="question-text" class="question-text">YÃ¼kleniyor...</h2>

                <div id="options-container" class="options-grid">
                    <!-- Options will be injected by JS -->
                </div>
            </div>

            <!-- Results (Hidden Initially) -->
            <div id="results-card" class="results-card hidden">
                <h2 class="results-title">DeÄŸerlendirme TamamlandÄ±!</h2>
                <p class="results-subtitle">Ä°ÅŸte enerji farkÄ±ndalÄ±k profiliniz:</p>

                <div class="score-display">
                    <div class="score-item knowledge">
                        <div class="score-label">Bilgi Skoru</div>
                        <div id="result-knowledge" class="score-value">0/13</div>
                    </div>
                    <div class="score-item behavior">
                        <div class="score-label">DavranÄ±ÅŸ Skoru</div>
                        <div id="result-behavior" class="score-value">0/85</div>
                    </div>
                </div>

                <div id="level-badge" class="level-badge level-2">DÃ¼zey 2: GeliÅŸmekte Olan</div>

                <div class="module-recommendation">
                    <h4 id="module-title">ðŸ“š Ã–nerilen EÄŸitim ModÃ¼lÃ¼</h4>
                    <p id="module-desc">ModÃ¼l aÃ§Ä±klamasÄ± buraya gelecek...</p>
                </div>

                <button class="back-btn" onclick="window.location.href='index.html'">
                    Ana Sayfaya DÃ¶n
                </button>
            </div>
        </main>
    </div>

    <script>
        // Full 30-Question Survey Data
        const knowledgeQuestions = [
            { text: "Enerji verimliliÄŸinin temel amacÄ± aÅŸaÄŸÄ±dakilerden hangisidir?", options: ["Enerji tÃ¼ketimini tamamen ortadan kaldÄ±rmak", "AynÄ± hizmeti daha az enerji kullanarak saÄŸlamak", "Enerji fiyatlarÄ±nÄ± dÃ¼ÅŸÃ¼rmek", "YalnÄ±zca yenilenebilir enerji kullanmak"], correct: 1 },
            { text: "Konutlarda toplam enerji tÃ¼ketimi iÃ§inde en yÃ¼ksek pay genellikle hangi alana aittir?", options: ["AydÄ±nlatma", "IsÄ±tma ve soÄŸutma", "Elektronik cihazlar", "KÃ¼Ã§Ã¼k ev aletleri"], correct: 1 },
            { text: "A++ enerji sÄ±nÄ±fÄ± bir elektrikli cihaz neyi ifade eder?", options: ["YÃ¼ksek gÃ¼Ã§ tÃ¼ketimini", "Enerji verimliliÄŸi yÃ¼ksek Ã¼rÃ¼nÃ¼", "Daha ucuz Ã¼rÃ¼nÃ¼", "KÄ±sa kullanÄ±m Ã¶mrÃ¼nÃ¼"], correct: 1 },
            { text: "LED ampuller, akkor flamanlÄ± ampullere kÄ±yasla yaklaÅŸÄ±k ne kadar daha az enerji tÃ¼ketir?", options: ["%10â€“20", "%30â€“40", "%70â€“80", "%90â€“100"], correct: 2 },
            { text: "Bir elektrikli su Ä±sÄ±tÄ±cÄ±sÄ±nÄ±n ortalama gÃ¼Ã§ tÃ¼ketimi hangi aralÄ±ktadÄ±r?", options: ["200â€“400 W", "800â€“1000 W", "1500â€“2000 W", "3000 W Ã¼zeri"], correct: 2 },
            { text: "IsÄ± yalÄ±tÄ±mÄ± yapÄ±lmÄ±ÅŸ bir binada aÅŸaÄŸÄ±dakilerden hangisi saÄŸlanÄ±r?", options: ["Enerji tÃ¼ketiminin artmasÄ±", "IsÄ± kayÄ±plarÄ±nÄ±n azaltÄ±lmasÄ±", "YalnÄ±zca yaz aylarÄ±nda konfor", "Elektrik tesisatÄ±nÄ±n korunmasÄ±"], correct: 1 },
            { text: "Enerji Kimlik Belgesi (EKB) hangi yapÄ±lar iÃ§in zorunludur?", options: ["Motorlu taÅŸÄ±tlar", "Sanayi makineleri", "Binalar", "Elektronik cihazlar"], correct: 2 },
            { text: "Stand-by (bekleme) modundaki cihazlar iÃ§in hangisi doÄŸrudur?", options: ["Enerji tÃ¼ketmezler", "DÃ¼ÅŸÃ¼k dÃ¼zeyde ancak sÃ¼rekli enerji tÃ¼ketirler", "Sadece gece saatlerinde enerji tÃ¼ketirler", "YalnÄ±zca eski cihazlarda gÃ¶rÃ¼lÃ¼r"], correct: 1 },
            { text: "Ã‡ift camlÄ± pencerelerin temel faydasÄ± aÅŸaÄŸÄ±dakilerden hangisidir?", options: ["AydÄ±nlatma ihtiyacÄ±nÄ± azaltmasÄ±", "IsÄ± ve ses kayÄ±plarÄ±nÄ± azaltmasÄ±", "Elektrik tÃ¼ketimini artÄ±rmasÄ±", "Nem oluÅŸumunu tamamen engellemesi"], correct: 1 },
            { text: "Klima kullanÄ±mÄ±nda enerji verimliliÄŸi aÃ§Ä±sÄ±ndan Ã¶nerilen iÃ§ ortam sÄ±caklÄ±ÄŸÄ± kaÃ§ Â°C'dir?", options: ["16â€“18 Â°C", "18â€“20 Â°C", "24â€“26 Â°C", "28â€“30 Â°C"], correct: 2 },
            { text: "AÅŸaÄŸÄ±dakilerden hangisi pasif enerji verimliliÄŸi Ã¶nlemi olarak deÄŸerlendirilir?", options: ["YÃ¼ksek verimli klima kullanÄ±mÄ±", "IsÄ± yalÄ±tÄ±mÄ± yapÄ±lmasÄ±", "LED aydÄ±nlatma kullanÄ±mÄ±", "AkÄ±llÄ± sayaÃ§ kurulumu"], correct: 1 },
            { text: "Elektrikli cihazlarda bulunan enerji etiketi hangi bilgiyi sunar?", options: ["Sadece satÄ±ÅŸ fiyatÄ±nÄ±", "Enerji tÃ¼ketimi ve verimlilik sÄ±nÄ±fÄ±nÄ±", "Garanti sÃ¼resini", "Ãœretim yerini"], correct: 1 },
            { text: "AÅŸaÄŸÄ±dakilerden hangisi enerji tasarrufu saÄŸlayan doÄŸru bir uygulamadÄ±r?", options: ["Ã‡amaÅŸÄ±r makinesini yarÄ±m yÃ¼kle Ã§alÄ±ÅŸtÄ±rmak", "Tam dolu Ã§alÄ±ÅŸtÄ±rmayÄ± tercih etmek", "YÃ¼ksek sÄ±caklÄ±kta yÄ±kama yapmak", "CihazlarÄ± sÃ¼rekli prizde bÄ±rakmak"], correct: 1 }
        ];

        const behaviorQuestions = [
            { text: "KullanmadÄ±ÄŸÄ±m elektrikli cihazlarÄ±n fiÅŸini prizden Ã§ekerim." },
            { text: "Konutumda LED veya enerji tasarruflu ampuller kullanÄ±rÄ±m." },
            { text: "IsÄ±tma ve soÄŸutma sistemlerini gereÄŸinden yÃ¼ksek ayarlamam." },
            { text: "Beyaz eÅŸyalarÄ± tam dolu Ã§alÄ±ÅŸtÄ±rmaya Ã¶zen gÃ¶steririm." },
            { text: "Yeni bir cihaz satÄ±n alÄ±rken enerji verimliliÄŸi sÄ±nÄ±fÄ±nÄ± dikkate alÄ±rÄ±m." },
            { text: "GÃ¼n Ä±ÅŸÄ±ÄŸÄ±ndan mÃ¼mkÃ¼n olduÄŸunca faydalanÄ±rÄ±m." },
            { text: "Elektrik ve doÄŸal gaz faturalarÄ±mÄ± dÃ¼zenli olarak takip ederim." },
            { text: "Klima Ã§alÄ±ÅŸÄ±rken kapÄ± ve pencereleri kapalÄ± tutarÄ±m." },
            { text: "Su Ä±sÄ±tÄ±cÄ±sÄ±nÄ± yalnÄ±zca ihtiyaÃ§ kadar doldururum." },
            { text: "Konutumda Ä±sÄ± yalÄ±tÄ±mÄ± konusunda bilgi sahibiyim." },
            { text: "Enerji verimliliÄŸine yÃ¶nelik kamu duyuru ve kampanyalarÄ±nÄ± takip ederim." },
            { text: "Yaz aylarÄ±nda doÄŸal havalandÄ±rmayÄ± tercih ederim." },
            { text: "Kamu binalarÄ±nda enerji tasarrufuna yÃ¶nelik uygulamalara uyarÄ±m." },
            { text: "Ã‡alÄ±ÅŸma ortamÄ±nda gereksiz aydÄ±nlatmalarÄ± kapatÄ±rÄ±m." },
            { text: "Enerji tasarrufu konusunda Ã§evremdekileri bilinÃ§lendirmeye Ã§alÄ±ÅŸÄ±rÄ±m." },
            { text: "Uzun sÃ¼reli evden ayrÄ±lÄ±ÅŸlarda elektrikli cihazlarÄ± kapatÄ±rÄ±m." },
            { text: "GÃ¼nlÃ¼k yaÅŸamÄ±mda enerji verimliliÄŸini Ã¶ncelikli bir konu olarak gÃ¶rÃ¼rÃ¼m." }
        ];

        // Build combined questions array
        const questions = [
            ...knowledgeQuestions.map((q, i) => ({
                type: 'knowledge',
                number: i + 1,
                text: q.text,
                options: q.options,
                correct: q.correct
            })),
            ...behaviorQuestions.map((q, i) => ({
                type: 'behavior',
                number: i + 14,
                text: q.text
            }))
        ];

        // State
        let currentIndex = 0;
        let scores = { knowledge: 0, behavior: 0 };

        // DOM Elements
        const questionCard = document.getElementById('question-card');
        const resultsCard = document.getElementById('results-card');
        const sectionBadge = document.getElementById('section-badge');
        const questionNumber = document.getElementById('question-number');
        const questionText = document.getElementById('question-text');
        const optionsContainer = document.getElementById('options-container');
        const progressFill = document.getElementById('progress-fill');
        const progressText = document.getElementById('progress-text');

        // Initialize
        loadQuestion(0);

        function loadQuestion(index) {
            if (index >= questions.length) {
                showResults();
                return;
            }

            const q = questions[index];
            currentIndex = index;

            // Update progress
            const progress = ((index) / questions.length) * 100;
            progressFill.style.width = `${progress}%`;
            progressText.textContent = `${index + 1} / ${questions.length}`;

            // Update section badge
            if (q.type === 'knowledge') {
                sectionBadge.textContent = 'A. BÄ°LGÄ° DÃœZEYÄ°';
                sectionBadge.className = 'section-badge';
            } else {
                sectionBadge.textContent = 'B. DAVRANIÅž DÃœZEYÄ°';
                sectionBadge.className = 'section-badge behavior';
            }

            // Update question
            questionNumber.textContent = `Soru ${index + 1}`;
            questionText.textContent = q.text;

            // Clear and render options
            optionsContainer.innerHTML = '';

            if (q.type === 'knowledge') {
                // Multiple choice
                const letters = ['A', 'B', 'C', 'D'];
                q.options.forEach((opt, i) => {
                    const btn = document.createElement('button');
                    btn.className = 'option-button';
                    btn.innerHTML = `<span class="option-letter">${letters[i]}</span><span>${opt}</span>`;
                    btn.onclick = () => handleKnowledgeAnswer(q, i);
                    optionsContainer.appendChild(btn);
                });
            } else {
                // Likert scale
                optionsContainer.className = 'likert-scale';
                const likertOptions = [
                    { score: 5, label: 'Her Zaman' },
                    { score: 4, label: 'SÄ±klÄ±kla' },
                    { score: 3, label: 'Bazen' },
                    { score: 2, label: 'Nadiren' },
                    { score: 1, label: 'HiÃ§bir Zaman' }
                ];
                likertOptions.forEach(opt => {
                    const btn = document.createElement('button');
                    btn.className = 'likert-option';
                    btn.innerHTML = `<span class="score">${opt.score}</span><span class="label">${opt.label}</span>`;
                    btn.onclick = () => handleBehaviorAnswer(opt.score);
                    optionsContainer.appendChild(btn);
                });
            }
        }

        function handleKnowledgeAnswer(question, answerIndex) {
            if (answerIndex === question.correct) {
                scores.knowledge += 1;
            }
            loadQuestion(currentIndex + 1);
        }

        function handleBehaviorAnswer(score) {
            scores.behavior += score;
            loadQuestion(currentIndex + 1);
        }

        function showResults() {
            // Calculate total
            const totalScore = scores.knowledge + scores.behavior;

            // Determine level
            let level;
            if (totalScore <= 45) {
                level = 1;
            } else if (totalScore <= 70) {
                level = 2;
            } else {
                level = 3;
            }

            // Save results to localStorage
            const results = {
                knowledge: scores.knowledge,
                behavior: scores.behavior,
                totalScore: totalScore,
                level: level,
                userName: 'KullanÄ±cÄ±', // Could be retrieved from login
                completedAt: new Date().toISOString()
            };
            localStorage.setItem('assessmentResults', JSON.stringify(results));

            // Redirect to report page
            window.location.href = 'report.html';
        }
    </script>
</body>

</html>